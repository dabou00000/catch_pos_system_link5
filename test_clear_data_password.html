<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .test-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #007bff;
        }
        .test-section h3 {
            color: #007bff;
            margin-top: 0;
        }
        .test-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .test-btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .test-btn:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }
        .test-btn:active {
            transform: translateY(0);
        }
        .test-btn i {
            font-size: 18px;
        }
        .danger-btn {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        .danger-btn:hover {
            background: linear-gradient(135deg, #c82333 0%, #bd2130 100%);
            box-shadow: 0 5px 15px rgba(220,53,69,0.3);
        }
        .warning-btn {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
        }
        .warning-btn:hover {
            background: linear-gradient(135deg, #f7931e 0%, #ff6b35 100%);
            box-shadow: 0 5px 15px rgba(255,107,53,0.3);
        }
        .info-box {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .info-box h4 {
            color: #0056b3;
            margin-top: 0;
        }
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .warning-box h4 {
            color: #856404;
            margin-top: 0;
        }
        .password-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .password-info h4 {
            color: #0c5460;
            margin-top: 0;
        }
        .results {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid #dee2e6;
        }
        .results h4 {
            color: #495057;
            margin-top: 0;
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .warning {
            color: #ffc107;
            font-weight: bold;
        }
        .test-steps {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .test-steps h4 {
            color: #495057;
            margin-top: 0;
        }
        .test-steps ol {
            margin: 0;
            padding-right: 20px;
        }
        .test-steps li {
            margin: 10px 0;
            line-height: 1.6;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-shield-alt"></i> Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h1>
        
        <div class="password-info">
            <h4><i class="fas fa-key"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h4>
            <p><strong>ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:</strong> <code style="background: #f8f9fa; padding: 5px 10px; border-radius: 4px; font-size: 18px; font-weight: bold;">USER</code></p>
            <p>Ø²Ø± "Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" ÙŠØªØ·Ù„Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø© Ù‚Ø¨Ù„ ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù…Ø³Ø­.</p>
        </div>

        <div class="warning-box">
            <h4><i class="fas fa-exclamation-triangle"></i> ØªØ­Ø°ÙŠØ± Ù…Ù‡Ù…</h4>
            <p><strong>Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø³ÙŠØ­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©!</strong></p>
            <p>Ø³ÙŠØªÙ… Ø­Ø°Ù: Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†ØŒ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§ØªØŒ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŒ Ø¥Ù„Ø®.</p>
            <p><strong>Ø³ÙŠØªÙ… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù€:</strong> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø§Ù„ØªØ±Ø®ÙŠØµØŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„.</p>
        </div>

        <div class="test-steps">
            <h4><i class="fas fa-list-ol"></i> Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h4>
            <ol>
                <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± ØµØ­ÙŠØ­Ø© (USER)"</li>
                <li>Ø³ØªØ¸Ù‡Ø± Ù†Ø§ÙØ°Ø© Ø·Ù„Ø¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</li>
                <li>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±: <strong>USER</strong></li>
                <li>Ø³ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø³Ø­</li>
                <li>Ø§Ø¶ØºØ· "Ù…ÙˆØ§ÙÙ‚" Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</li>
                <li>Ø³ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</li>
            </ol>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-vial"></i> Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</h3>
            <div class="test-buttons">
                <button class="test-btn" onclick="testPassword('USER')" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                    <i class="fas fa-check"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± ØµØ­ÙŠØ­Ø© (USER)
                </button>
                <button class="test-btn" onclick="testPassword('user')" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">
                    <i class="fas fa-times"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø§Ø·Ø¦Ø© (user)
                </button>
                <button class="test-btn" onclick="testPassword('123')" style="background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%); color: #212529;">
                    <i class="fas fa-exclamation"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø§Ø·Ø¦Ø© (123)
                </button>
                <button class="test-btn" onclick="testPassword('')" style="background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);">
                    <i class="fas fa-ban"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù„ØºØ§Ø¡ (Ø¨Ø¯ÙˆÙ† Ø¥Ø¯Ø®Ø§Ù„)
                </button>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-database"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠ</h3>
            <div class="test-buttons">
                <button class="test-btn warning-btn" onclick="testClearDataButton()">
                    <i class="fas fa-trash-alt"></i>
                    Ø§Ø®ØªØ¨Ø§Ø± Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠ
                </button>
                <button class="test-btn" onclick="addSampleData()">
                    <i class="fas fa-plus"></i>
                    Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                </button>
            </div>
        </div>

        <div class="results">
            <h4><i class="fas fa-clipboard-list"></i> Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h4>
            <div id="testResults">
                <p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ø£ÙŠ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯.</p>
            </div>
        </div>

        <div class="info-box">
            <h4><i class="fas fa-info-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</h4>
            <ul>
                <li><strong>ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:</strong> USER (Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø©)</li>
                <li><strong>Ø§Ù„ÙˆØ¸ÙŠÙØ©:</strong> Ø­Ù…Ø§ÙŠØ© Ø²Ø± Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</li>
                <li><strong>Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:</strong> ØªØ¸Ù‡Ø± Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø­Ø³Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©</li>
                <li><strong>Ø§Ù„Ø£Ù…Ø§Ù†:</strong> ÙŠÙ…Ù†Ø¹ Ø§Ù„ÙˆØµÙˆÙ„ ØºÙŠØ± Ø§Ù„Ù…ØµØ±Ø­ Ø¨Ù‡ Ù„Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</li>
            </ul>
        </div>
    </div>

    <script>
        let testResults = [];
        
        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù†Ø³Ø®Ø© Ù…Ù† script.js)
        function clearAllOperationalData() {
            const currentLang = document.documentElement.lang || localStorage.getItem('appLanguage') || 'ar';
            const isEn = currentLang === 'en';
            
            // Ø·Ù„Ø¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø£ÙˆÙ„Ø§Ù‹
            const passwordPrompt = isEn 
                ? 'Enter password to clear all data:'
                : 'Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:';
            
            const enteredPassword = prompt(passwordPrompt);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
            if (enteredPassword !== 'USER') {
                const errorMsg = isEn 
                    ? 'âŒ Incorrect password. Access denied.'
                    : 'âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„.';
                showMessage(errorMsg, 'error');
                return;
            }
            
            // Ø·Ù„Ø¨ ØªØ£ÙƒÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const confirmMessage = isEn 
                ? 'âš ï¸ WARNING: This will delete ALL operational data (sales, customers, suppliers, invoices, reports, etc.) while keeping system settings and license intact.\n\nAre you sure you want to continue?'
                : 'âš ï¸ ØªØ­Ø°ÙŠØ±: Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†ØŒ Ø§Ù„ÙÙˆØ§ØªÙŠØ±ØŒ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŒ Ø¥Ù„Ø®) Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„ØªØ±Ø®ÙŠØµ.\n\nÙ‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ';
            
            if (!confirm(confirmMessage)) {
                const result = {
                    action: 'Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    result: 'CANCELLED',
                    timestamp: new Date().toLocaleString(),
                    details: 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'
                };
                testResults.push(result);
                updateResults();
                return;
            }
            
            try {
                console.log('ğŸ§¹ Ø¨Ø¯Ø¡ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©...');
                
                const operationalKeys = [
                    'products', 'customers', 'sales', 'suppliers', 'purchases',
                    'supplierPayments', 'purchaseReturns', 'supplierLedger',
                    'stockMovements', 'salesLogs', 'customerLogs', 'cart',
                    'lastCartFocusIndex', 'profit.pageSize', 'capital.pageSize',
                    'lastWarningTime'
                ];
                
                let clearedCount = 0;
                operationalKeys.forEach(key => {
                    try {
                        localStorage.removeItem(key);
                        clearedCount++;
                        console.log(`âœ… ØªÙ… Ù…Ø³Ø­: ${key}`);
                    } catch (e) {
                        console.warn(`âš ï¸ ÙØ´Ù„ ÙÙŠ Ù…Ø³Ø­: ${key}`, e);
                    }
                });
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
                const cashDrawer = {
                    cashUSD: 100.00,
                    cashLBP: 0,
                    transactions: [],
                    lastUpdate: new Date().toISOString()
                };
                localStorage.setItem('cashDrawer', JSON.stringify(cashDrawer));
                
                const successMessage = isEn 
                    ? `âœ… All operational data cleared successfully!\n\nCleared ${clearedCount} data sets.\nSystem settings and license preserved.`
                    : `âœ… ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!\n\nØªÙ… Ù…Ø³Ø­ ${clearedCount} Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª.\nØªÙ… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„ØªØ±Ø®ÙŠØµ.`;
                
                showMessage(successMessage, 'success');
                
                const result = {
                    action: 'Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    result: 'SUCCESS',
                    timestamp: new Date().toLocaleString(),
                    details: `ØªÙ… Ù…Ø³Ø­ ${clearedCount} Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª`
                };
                testResults.push(result);
                updateResults();
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                const errorMessage = isEn 
                    ? 'âŒ Error occurred while clearing data. Please try again.'
                    : 'âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                showMessage(errorMessage, 'error');
                
                const result = {
                    action: 'Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    result: 'FAILED',
                    timestamp: new Date().toLocaleString(),
                    details: error.message
                };
                testResults.push(result);
                updateResults();
            }
        }
        
        function testPassword(password) {
            console.log(`Testing password: ${password}`);
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
            const originalPrompt = window.prompt;
            window.prompt = function(message) {
                return password;
            };
            
            const result = clearAllOperationalData();
            
            // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
            window.prompt = originalPrompt;
            
            const testResult = {
                action: 'Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±',
                password: password || '(empty)',
                result: password === 'USER' ? 'SUCCESS' : 'FAILED',
                timestamp: new Date().toLocaleString(),
                details: password === 'USER' ? 'ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØµØ­ÙŠØ­Ø©' : 'ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©'
            };
            testResults.push(testResult);
            updateResults();
        }
        
        function testClearDataButton() {
            console.log('Testing clear data button...');
            const result = clearAllOperationalData();
        }
        
        function addSampleData() {
            try {
                console.log('Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©...');
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                const sampleProducts = [
                    { id: 1, name: 'Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ 1', priceUSD: 10, stock: 50, minStock: 5 },
                    { id: 2, name: 'Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ 2', priceUSD: 20, stock: 30, minStock: 3 },
                    { id: 3, name: 'Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ 3', priceUSD: 15, stock: 25, minStock: 2 }
                ];
                localStorage.setItem('products', JSON.stringify(sampleProducts));
                
                // Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„Ø§Ø¡ ØªØ¬Ø±ÙŠØ¨ÙŠÙŠÙ†
                const sampleCustomers = [
                    { id: 1, name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ 1', phone: '0123456789', totalPurchases: 100 },
                    { id: 2, name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ 2', phone: '0987654321', totalPurchases: 200 }
                ];
                localStorage.setItem('customers', JSON.stringify(sampleCustomers));
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¨ÙŠØ¹Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                const sampleSales = [
                    { id: 1, date: new Date().toISOString(), amount: 50, customer: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ 1' },
                    { id: 2, date: new Date().toISOString(), amount: 75, customer: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ 2' }
                ];
                localStorage.setItem('sales', JSON.stringify(sampleSales));
                
                const result = {
                    action: 'Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©',
                    result: 'SUCCESS',
                    timestamp: new Date().toLocaleString(),
                    details: 'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'
                };
                testResults.push(result);
                updateResults();
                
                showMessage('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©:', error);
                const result = {
                    action: 'Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©',
                    result: 'FAILED',
                    timestamp: new Date().toLocaleString(),
                    details: error.message
                };
                testResults.push(result);
                updateResults();
                showMessage('âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©', 'error');
            }
        }
        
        function showMessage(message, type) {
            console.log(`[${type.toUpperCase()}] ${message}`);
            alert(message);
        }
        
        function updateResults() {
            const resultsDiv = document.getElementById('testResults');
            if (testResults.length === 0) {
                resultsDiv.innerHTML = '<p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ø£ÙŠ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯.</p>';
                return;
            }
            
            let html = '<table style="width: 100%; border-collapse: collapse;">';
            html += '<thead><tr style="background: #f8f9fa;">';
            html += '<th style="border: 1px solid #dee2e6; padding: 10px;">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>';
            html += '<th style="border: 1px solid #dee2e6; padding: 10px;">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</th>';
            html += '<th style="border: 1px solid #dee2e6; padding: 10px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©</th>';
            html += '<th style="border: 1px solid #dee2e6; padding: 10px;">Ø§Ù„ØªÙØ§ØµÙŠÙ„</th>';
            html += '<th style="border: 1px solid #dee2e6; padding: 10px;">Ø§Ù„ÙˆÙ‚Øª</th>';
            html += '</tr></thead><tbody>';
            
            testResults.forEach(result => {
                const resultClass = result.result === 'SUCCESS' ? 'success' : 
                                  result.result === 'FAILED' ? 'error' : 'warning';
                const resultIcon = result.result === 'SUCCESS' ? 'âœ…' : 
                                 result.result === 'FAILED' ? 'âŒ' : 'âš ï¸';
                
                html += '<tr>';
                html += `<td style="border: 1px solid #dee2e6; padding: 10px;">${result.action}</td>`;
                html += `<td style="border: 1px solid #dee2e6; padding: 10px;">${result.password || '-'}</td>`;
                html += `<td style="border: 1px solid #dee2e6; padding: 10px;" class="${resultClass}">${resultIcon} ${result.result}</td>`;
                html += `<td style="border: 1px solid #dee2e6; padding: 10px;">${result.details}</td>`;
                html += `<td style="border: 1px solid #dee2e6; padding: 10px;">${result.timestamp}</td>`;
                html += '</tr>';
            });
            
            html += '</tbody></table>';
            
            resultsDiv.innerHTML = html;
        }
        
        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded successfully');
            console.log('Clear data password test ready');
        });
    </script>
</body>
</html>
