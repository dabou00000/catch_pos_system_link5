<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATCH POS SYSTEM</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
    /* license days display in settings */
    .license-days { display:inline-block; margin-top:8px; padding:6px 10px; border-radius:8px; font-size:13px; font-weight:600 }
    .license-days.safe { background:#ecfdf5; color:#065f46 }
    .license-days.warn { background:#fffbeb; color:#92400e }
    .license-days.danger { background:#fee2e2; color:#991b1b }
    .license-days.inactive { background:#f3f4f6; color:#374151 }
    
        /* Reset License Button */
        .reset-license-btn:hover {
            background: linear-gradient(135deg, #c82333 0%, #bd2130 100%) !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 53, 69, 0.5) !important;
        }
        .reset-license-btn:active {
            transform: translateY(0) !important;
        }
    
    /* ูุคุดุฑ ุงูุงุดุชุฑุงู ุงูุจุตุฑู ุงูุฏุงุฆู */
    #subscriptionBar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #10b981 0%, #059669 100%);
        z-index: 9999;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    #subscriptionBar.warn {
        background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);
        height: 5px;
    }
    #subscriptionBar.danger {
        background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
        height: 6px;
        animation: pulse-bar 2s ease-in-out infinite;
    }
    #subscriptionBar.inactive {
        background: #6b7280;
        height: 3px;
    }
    
    @keyframes pulse-bar {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }
    
    /* ุชุฎุทูุท ุงูุนููุงู ูุงููุคุดุฑ */
    .logo-title-section {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 2px;
    }
    
    .main-title {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    /* ุฃููููุฉ ุงูุงุดุชุฑุงู ูู ุงูููุฏุฑ */
    .subscription-indicator {
        display: flex;
        align-items: center;
        gap: 4px;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: fit-content;
        max-width: 90px;
        margin-top: -2px;
    }
    .subscription-indicator:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    .subscription-indicator.safe {
        background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
        color: #065f46;
        border: 2px solid #10b981;
    }
    .subscription-indicator.warn {
        background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
        color: #92400e;
        border: 2px solid #f59e0b;
        animation: pulse-warning 3s ease-in-out infinite;
    }
    .subscription-indicator.danger {
        background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        color: #991b1b;
        border: 2px solid #ef4444;
        animation: pulse-danger 2s ease-in-out infinite;
    }
    .subscription-indicator.inactive {
        background: #f3f4f6;
        color: #6b7280;
        border: 2px solid #d1d5db;
    }
    .subscription-indicator.lifetime {
        background: linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%);
        color: #6b21a8;
        border: 2px solid #a855f7;
    }
    
    @keyframes pulse-warning {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    @keyframes pulse-danger {
        0%, 100% { transform: scale(1); box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3); }
        50% { transform: scale(1.08); box-shadow: 0 4px 16px rgba(239, 68, 68, 0.5); }
    }
    
    .subscription-indicator .icon {
        font-size: 10px;
    }
    .subscription-indicator .text {
        font-size: 9px;
        white-space: nowrap;
    }
    .subscription-indicator .days {
        font-weight: 800;
        font-size: 10px;
    }
    
    /* Tooltip ูููุนูููุงุช ุงูุชูุตูููุฉ */
    .subscription-tooltip {
        position: absolute;
        top: 100%;
        right: 0;
        margin-top: 8px;
        padding: 12px 16px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        min-width: 250px;
        display: none;
        animation: slideDown 0.3s ease;
    }
    .subscription-tooltip.show {
        display: block;
    }
    
    @keyframes slideDown {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .subscription-tooltip h4 {
        margin-bottom: 8px;
        color: #1f2937;
        font-size: 14px;
    }
    .subscription-tooltip p {
        margin: 4px 0;
        font-size: 13px;
        color: #6b7280;
    }
    .subscription-tooltip .contact-btn {
        margin-top: 12px;
        width: 100%;
        padding: 8px;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .subscription-tooltip .contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
    }
    
    /* ุชุนุฏูู ููุถุน ุงูููุฏุฑ ูุงุณุชูุนุงุจ ุงูุดุฑูุท */
    .header {
        margin-top: 4px;
    }
    </style>
</head>
<body>
    <!-- ุดุฑูุท ุงูุงุดุชุฑุงู ุงูุจุตุฑู ุงูุฏุงุฆู -->
    <div id="subscriptionBar" class="safe"></div>
    
    <!-- ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-card">
                <div class="logo">
                    <i class="fas fa-store"></i>
                    <h1 style="font-weight:800;letter-spacing:0.5px;">CATCH POS SYSTEM</h1>
                    <p style="font-weight:600;opacity:0.9;">Point of Sale Platform</p>
                </div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">ุงุณู ุงููุณุชุฎุฏู</label>
                        <input type="text" id="username" value="admin" required>
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">ูููุฉ ุงููุฑูุฑ</label>
                        <input type="password" id="password" value="admin123" required>
                        <i class="fas fa-lock"></i>
                    </div>
                    
                    <button type="submit" class="login-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        ุชุณุฌูู ุงูุฏุฎูู
                    </button>
                    <!-- Activation trigger (shown when unlicensed) -->
                    <div id="activationCard" style="margin-top:12px;display:none;">
                        <button type="button" id="openActivationModalBtn" class="login-btn" style="padding:8px 12px;" data-i18n="enter-activation-code">
                            <i class="fas fa-bolt"></i>
                            Enter Activation Code
                        </button>
                        <div id="activationMessage" style="margin-top:8px;color:#b91c1c;display:none;font-weight:600;"></div>
                    </div>
                    <!-- Import license button (shown when unlicensed) -->
                    <div style="display:flex;flex-direction:column;gap:8px;margin-top:10px;">
                        <button type="button" id="activateBtn" class="report-btn" style="display:none;">
                            <i class="fas fa-bolt"></i>
                            ุชูุนูู
                        </button>
                        <button type="button" id="importLicenseBtn" class="report-btn" style="display:none;">
                            <i class="fas fa-file-import"></i>
                            ุงุณุชูุฑุงุฏ ููู ุงูุชูุนูู
                        </button>
                    </div>
                </form>
                
                <div class="demo-info">
                    <h4>ุจูุงูุงุช ุงูุชุฌุฑุจุฉ:</h4>
                    <p>ุงููุณุชุฎุฏู: admin</p>
                    <p>ูููุฉ ุงููุฑูุฑ: admin123</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Clear All Data Button -->


    <!-- ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="mainScreen" class="screen">
        <!-- ุงูุดุฑูุท ุงูุนููู -->
        <header class="header">
            <div class="header-content">
                <div class="logo-small">
                    <button id="menuToggle" class="menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="logo-title-section">
                        <div class="main-title">
                            <i class="fas fa-store"></i>
                            <span style="font-weight:700;">CATCH POS SYSTEM</span>
                        </div>
                        <!-- ูุคุดุฑ ุงูุงุดุชุฑุงู ุชุญุช ุงูุนููุงู ูุจุงุดุฑุฉ -->
                        <div id="subscriptionIndicator" class="subscription-indicator safe" style="position: relative;">
                            <i class="fas fa-shield-alt icon"></i>
                            <div class="text">
                                <span class="days" id="subDays">--</span>
                                <span id="subLabel">ููู</span>
                            </div>
                            <!-- Tooltip -->
                            <div id="subscriptionTooltip" class="subscription-tooltip">
                                <h4 id="tooltipTitle">ูุนูููุงุช ุงูุงุดุชุฑุงู</h4>
                                <p id="tooltipStatus">ุงูุญุงูุฉ: ูุดุท</p>
                                <p id="tooltipDays">ุงูุฃูุงู ุงููุชุจููุฉ: -- ููู</p>
                                <p id="tooltipExpiry">ููุชูู ูู: --</p>
                                <button class="contact-btn" onclick="contactSupport()">
                                    <i class="fab fa-whatsapp"></i> ุงุชุตู ุจุงูุฏุนู
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ุฒุฑ ุงูุชุญูู ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ -->
                    <button id="navToggleBtn" class="nav-toggle-btn" onclick="toggleNavigationMenu()">
                        <i class="fas fa-eye-slash"></i>
                        <span>ุฅุฎูุงุก ุงููุงุฆูุฉ</span>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </button>
                </div>
                
                <div class="header-right-section">
                    <div class="header-cash-status">
                        <div class="cash-indicator">
                            <i class="fas fa-cash-register"></i>
                            <span>ุงูุตูุฏูู:</span>
                            <span class="cash-amount" id="headerDrawerUSD">$100.00</span>
                            <span class="cash-amount" id="headerDrawerLBP">500,000 ู</span>
                        </div>
                    </div>
                </div>
                
                <!-- ุนูุงุตุฑ ููุทุฉ ุงูุจูุน ุงููููููุฉ ุฅูู ุงูุดุฑูุท ุงูุนููู -->
                <div class="currency-selector header-pos-controls" aria-label="POS Controls">
                    <span id="exchangeRate">ุณุนุฑ ุงูุตุฑู: 89,500 ู.ู</span>
                </div>
                
                <!-- ุนูุงุตุฑ ุงููุณุชุฎุฏู -->
                <div class="user-controls">
                    <span id="currentUser">ูุฑุญุจุงูุ ุงููุฏูุฑ</span>
                    <button id="logoutBtn" onclick="logout()" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ
                    </button>
                    <select id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="ar">ุงูุนุฑุจูุฉ</option>
                        <option value="en">English</option>
                    </select>
                </div>
                
            </div>
        </header>

        <!-- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ -->
        <nav class="sidebar">
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item active" data-screen="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </li>
                <li class="nav-item" data-screen="pos">
                    <i class="fas fa-cash-register"></i>
                    <span>ููุทุฉ ุงูุจูุน</span>
                </li>
                <li class="nav-item" data-screen="cashboxHistory">
                    <i class="fas fa-history"></i>
                    <span data-i18n="nav_cashbox">History Cashbox</span>
                </li>
                <li class="nav-item" data-screen="products">
                    <i class="fas fa-boxes"></i>
                    <span>ุงูููุชุฌุงุช</span>
                </li>
                <li class="nav-item" data-screen="sales">
                    <i class="fas fa-receipt"></i>
                    <span>ุงููุจูุนุงุช</span>
                </li>
                <li class="nav-item" data-screen="customers">
                    <i class="fas fa-users"></i>
                    <span>ุงูุนููุงุก</span>
                </li>
                <li class="nav-item" data-screen="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>ุงูุชูุงุฑูุฑ</span>
                </li>
                
                <li class="nav-item" data-screen="suppliers">
                    <i class="fas fa-truck"></i>
                    <span>ุงูููุฑุฏูู</span>
                </li>
                <li class="nav-item" data-screen="settings">
                    <i class="fas fa-cogs"></i>
                    <span>ุงูุฅุนุฏุงุฏุงุช</span>
                </li>
            </ul>
        </nav>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="main-content">
            <!-- ููุญุฉ ุงูุชุญูู -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h2>ููุญุฉ ุงูุชุญูู</h2>
                    <p>ูุธุฑุฉ ุนุงูุฉ ุนูู ุฃุฏุงุก ุงููุชุฌุฑ</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon primary">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="todayRevenue">$1,250.00</h3>
                            <p>ุฅูุฑุงุฏุงุช ุงูููู</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="todaySales">15</h3>
                            <p>ูุจูุนุงุช ุงูููู</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon warning">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalProducts">127</h3>
                            <p>ุฅุฌูุงูู ุงูููุชุฌุงุช</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon info">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalCustomers">89</h3>
                            <p>ุฅุฌูุงูู ุงูุนููุงุก</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3><i class="fas fa-chart-line"></i> ูุจูุนุงุช ุงูุฃุณุจูุน</h3>
                        <div class="chart-placeholder">
                            <div class="mini-chart">
                                <div class="bar" style="height: 60%"></div>
                                <div class="bar" style="height: 40%"></div>
                                <div class="bar" style="height: 80%"></div>
                                <div class="bar" style="height: 70%"></div>
                                <div class="bar" style="height: 90%"></div>
                                <div class="bar" style="height: 65%"></div>
                                <div class="bar" style="height: 85%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3><i class="fas fa-exclamation-triangle"></i> ุชูุจููุงุช ุงููุฎุฒูู</h3>
                        <div class="alert-list" id="stockAlertsList">
                            <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ููุทุฉ ุงูุจูุน -->
            <div id="pos" class="page">
                
                <div class="pos-container three-col">
                    <div class="pos-left">
                        <div class="search-section">
                            <input type="text" id="productSearch" placeholder="ุงุจุญุซ ุนู ููุชุฌ ุจุงูุงุณู ุฃู ุงูุจุงุฑููุฏ...">
                            <button id="searchBtn"><i class="fas fa-search"></i></button>
                        </div>
                        
                        <div class="products-grid" id="productsGrid">
                            <!-- ุงูููุชุฌุงุช ุณุชุถุงู ููุง ุฏููุงููููุงู -->
                        </div>
                    </div>
                    
                    <div class="pos-right">
                        <div class="cart-section">
                            <h3><i class="fas fa-shopping-cart"></i> ุงูุนุฑุจุฉ</h3>
                            <div class="cart-items" id="cartItems">
                                <!-- ุนูุงุตุฑ ุงูุนุฑุจุฉ -->
                            </div>
                            
                            <div class="cart-total">
                                <div class="total-line final">
                                    <span>ุงููุฌููุน ุงูููุงุฆู:</span>
                                    <span id="finalTotal">$0.00</span>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="pos-sale">
                        <div class="sale-panel">
                            <div class="payment-section">
                                <div class="payment-controls">
                                    <div class="control-group">
                                        <label data-i18n="payment-method">ุทุฑููุฉ ุงูุฏูุน:</label>
                                        <select id="paymentMethod">
                                            <option value="cash" selected>ุฏูุน ูุงูู (ููุฏู)</option>
                                            <option value="credit">ุจูุน ุจุงูุฏูู</option>
                                            <option value="partial">ุฏูุน ุฌุฒุฆู (ุฏูู)</option>
                                        </select>
                                    </div>
                                    
                                    <div class="control-group">
                                        <label data-i18n="price-type">ููุน ุงูุณุนุฑ:</label>
                                        <select id="priceType">
                                            <option value="retail">ููุฑู ๐ช</option>
                                            <option value="wholesale">ุฌููุฉ ๐ฆ</option>
                                            <option value="vip">ุฒุจูู ูููุฒ โญ</option>
                                        </select>
                                    </div>
                                    
                                    <div class="control-group">
                                        <label data-i18n="currency">ุงูุนููุฉ:</label>
                                        <select id="currency">
                                            <option value="USD">ุฏููุงุฑ ุฃูุฑููู ($)</option>
                                            <option value="LBP">ููุฑุฉ ูุจูุงููุฉ (ู.ู)</option>
                                        </select>
                                    </div>
                                    
                                    <!-- ุฃุฒุฑุงุฑ ุงูุนูู ุงูุฑุฆูุณูุฉ -->
                                    <div class="control-group">
                                        <button id="processPayment" class="pay-btn">
                                            <i class="fas fa-credit-card"></i>
                                            ุฅุชูุงู ุงูุฏูุน
                                        </button>
                                    </div>
                                    
                                    <div class="control-group">
                                        <button id="clearCart" class="clear-btn">
                                            <i class="fas fa-trash"></i>
                                            ูุณุญ ุงูุนุฑุจุฉ
                                        </button>
                                    </div>

                                    <!-- ุตูุฏูู ุงูุณุนุฑ ุงูููุงุฆู ุงูุธุงูุฑ ุจุฌุงูุจ ุฃุฒุฑุงุฑ ุงูุชุญูู -->
                                    <div class="control-group">
                                        <div id="finalTotalBox" class="final-total-box" aria-live="polite">
                                            <div class="final-total-title">ุงููุฌููุน ุงูููุงุฆู</div>
                                            <div id="finalTotalBoxAmount" class="final-total-amount">$0.00</div>
                                        </div>
                                    </div>
                                    
                                </div>

                                <!-- ูุณู ุงูุฏูุน ุงูููุฏู ุงููุชุทูุฑ -->
                                <div id="cashPaymentSection" class="cash-payment" style="display: block;">

                                    <div class="payment-input">
                                        <div class="input-group">
                                            <label>ุนููุฉ ุงูุฏูุน:</label>
                                            <select id="paymentCurrency">
                                                <option value="USD">ุฏููุงุฑ ($)</option>
                                                <option value="LBP">ููุฑุฉ (ู.ู)</option>
                                            </select>
                                        </div>

                                        <div class="input-group">
                                            <label>ุงููุจูุบ ุงููุฏููุน:</label>
                                            <input type="number" id="amountPaid" step="0.01" placeholder="ุงููุจูุบ">
                                        </div>

                                        <div class="input-group">
                                            <label>ุนููุฉ ุงูุจุงูู:</label>
                                            <select id="changeCurrency">
                                                <option value="">ุชููุงุฆู</option>
                                                <option value="USD">ุฏููุงุฑ ($)</option>
                                                <option value="LBP">ููุฑุฉ (ู.ู)</option>
                                            </select>
                                        </div>

                                        <div class="input-group">
                                            <button id="calculateChange" class="calculate-btn-compact">
                                                ุญุณุงุจ ุงูุจุงูู
                                            </button>
                                        </div>

                                        <div class="input-group remainder-wrap">
                                            <button id="completeRemainderLBP" class="calculate-btn-compact secondary" title="ุฅููุงู ุงููุชุจูู ุจุงูููุฑุฉ">
                                                <i class="fas fa-exchange-alt"></i>
                                                ุฅููุงู ุจุงูููุฑุฉ
                                            </button>
                                            <span id="remainderLBPDisplay" class="remainder-badge"></span>                                        </div>
                                        
                                    </div>

                                    <div id="changeDetails" class="change-details" style="display: none;"></div>
                                </div>

                                <!-- ูุณู ุงูุจูุน ุจุงูุฏูู -->
                                <div id="creditSaleSection" class="credit-sale" style="display: none;">
                                    <div class="credit-feature-highlight">
                                        <h3>ุจูุน ุจุงูุฏูู</h3>
                                        <p>ุงูุจูุน ูุงููุงู ุนูู ุงูุญุณุงุจ</p>
                                    </div>
                                    <div class="credit-sale-input">
                                        <div class="input-group">
                                            <label>ุงุฎุชุฑ ุงูุนููู:</label>
                                            <div id="creditCustomerCombo" style="position:relative;">
                                                <input type="text" id="creditCustomerSearch" placeholder="ุงุจุญุซ ุจุงุณู ุฃู ุจุฑูุฏ ุงูุนููู" autocomplete="off" style="width:100%;padding-right:10px;" readonly>
                                                <div id="creditCustomerList" style="position:absolute;left:0;right:0;max-height:220px;overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 8px 24px rgba(0,0,0,0.08);z-index:10;display:none;"></div>
                                                <select id="creditCustomerSelect" style="display:none;"></select>
                                            </div>
                                        </div>
                                        <div class="credit-info">
                                            <div class="credit-limit-display">
                                                <span>ุงูุญุฏ ุงูุงุฆุชูุงูู: <span id="creditLimitDisplay">--</span></span>
                                                <span>ุงูุฏูู ุงูุญุงูู: <span id="currentDebtDisplay">--</span></span>
                                                <span>ุงูุงุฆุชูุงู ุงููุชุจูู: <span id="remainingCreditDisplay">--</span></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ูุณู ุงูุฏูุน ุงูุฌุฒุฆู ูุงูุฏูู -->
                                <div id="partialPaymentSection" class="partial-payment" style="display: none;">
                                    <div class="credit-feature-highlight">
                                        <h3>ุฏูุน ุฌุฒุฆู (ุฏูู)</h3>
                                        <p>ุงุฏูุน ุฌุฒุก ูุงูุจุงูู ุนูู ุงูุญุณุงุจ</p>
                                    </div>
                                    <div class="partial-payment-input">
                                        <div class="input-group">
                                            <label data-i18n="choose-customer">ุงุฎุชุฑ ุงูุนููู:</label>
                                            <div id="customerCombo" style="position:relative;">
                                                <input type="text" id="customerSearch" placeholder="ุงุจุญุซ ุจุงุณู ุฃู ุจุฑูุฏ ุงูุนููู" autocomplete="off" style="width:100%;padding-right:10px;" readonly>
                                                <div id="customerList" style="position:absolute;left:0;right:0;max-height:220px;overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 8px 24px rgba(0,0,0,0.08);z-index:10;display:none;"></div>
                                                <select id="customerSelect" style="display:none;"></select>
                                            </div>
                                        </div>
                                        
                                        <!-- ุฒุฑ ุฅุถุงูุฉ ุญุณุงุจ ุณุงุจู -->
                                        <div class="input-group" id="addPreviousAccountGroup" style="display: none;">
                                            <button type="button" id="addPreviousAccountBtn" class="add-previous-account-btn">
                                                <i class="fas fa-plus-circle"></i>
                                                <span data-i18n="add-previous-account">ุฅุถุงูุฉ ุญุณุงุจ ุณุงุจู</span>
                                            </button>
                                        </div>
                                        
                                        <div class="input-group">
                                            <label>ูุจูุบ ูุฏููุน:</label>
                                            <input type="number" id="partialAmount" step="0.01" placeholder="ุงููุจูุบ ุงููุฏููุน">
                                        </div>
                                        <div class="input-group">
                                            <label>ุนููุฉ ุงูุฏูุน:</label>
                                            <select id="partialCurrency">
                                                <option value="USD">ุฏููุงุฑ ($)</option>
                                                <option value="LBP">ููุฑุฉ (ู.ู)</option>
                                            </select>
                                        </div>
                                        <div class="input-group">
                                            <button id="calculateCredit" class="calculate-btn-compact">
                                                ุญุณุงุจ ุงูุฏูู
                                            </button>
                                        </div>
                                    </div>
                                    <div id="creditDetails" class="credit-details" style="display: none;"></div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุณุฌู ุญุฑูุงุช ุงูุตูุฏูู -->
            <div id="cashboxHistory" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-history"></i> <span data-i18n="cashbox-history">History Cashbox</span></h2>
                    <div class="page-toolbar">
                        <select id="cashboxTypeFilter">
                            <option value="all" data-i18n="cashbox-all-types">ูู ุงูุฃููุงุน</option>
                            <option value="deposit" data-i18n="cashbox-deposit">ุฅูุฏุงุน</option>
                            <option value="expense" data-i18n="cashbox-expense">ุฅุฎุฑุงุฌ</option>
                            <option value="transfer" data-i18n="cashbox-transfer">ููู</option>
                        </select>
                        <select id="cashboxCurrencyFilter">
                            <option value="all" data-i18n="cashbox-all-currencies">ูู ุงูุนููุงุช</option>
                            <option value="USD">USD</option>
                            <option value="LBP">LBP</option>
                        </select>
                        <input type="date" id="cashboxFromDate">
                        <input type="search" id="cashboxSearch" placeholder="ุจุญุซ ูู ุงููุตู/ุงููุณุชุฎุฏู..." data-i18n-placeholder="cashbox-search-placeholder">
                        <button id="cashboxApplyFilter" class="filter-btn" data-i18n="cashbox-apply-filter">ุชุตููุฉ</button>
                        <button id="cashboxResetFilter" class="filter-btn" data-i18n="cashbox-reset-filter">ุฅุนุงุฏุฉ ุชุนููู</button>
                        <button id="cashboxExportCsv" class="filter-btn" data-i18n="cashbox-export-csv">ุชุตุฏูุฑ CSV</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th data-i18n="cashbox-type">ุงูููุน</th>
                                <th data-i18n="cashbox-amount-usd">ุงููุจูุบ (USD)</th>
                                <th data-i18n="cashbox-amount-lbp">ุงููุจูุบ (LBP)</th>
                                <th data-i18n="cashbox-date-time">ุงูุชุงุฑูุฎ ูุงูููุช</th>
                                <th data-i18n="cashbox-description">ุงููุตู</th>
                                <th data-i18n="cashbox-user">ุงููุณุชุฎุฏู</th>
                            </tr>
                        </thead>
                        <tbody id="cashboxTable">
                        </tbody>
                    </table>
                </div>
                <div id="cashboxPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:12px 0 24px 0;">
                    <button id="loadMoreCashboxBtn" class="action-btn" style="padding:8px 14px;background:#3b82f6;color:#fff;border-radius:6px;" data-i18n="cashbox-load-more">
                        <i class="fas fa-chevron-down"></i> ุชุญููู ุงููุฒูุฏ
                    </button>
                    <span id="cashboxCountInfo" style="font-size:12px;color:#6b7280"></span>
                </div>
            </div>

            <!-- ุงูููุงุชูุฑ -->
            <div id="invoices" class="page">
                <div class="page-header">
                    <h2>ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ</h2>
                    <div class="date-filter">
                        <input type="date" id="invoicesFromDate">
                        <input type="date" id="invoicesToDate">
                        <button onclick="filterInvoices()" class="filter-btn">ููุชุฑุฉ</button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุฑูู ุงููุงุชูุฑุฉ</th>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงูุนููู</th>
                                <th>ุงููุจูุบ</th>
                                <th>ุทุฑููุฉ ุงูุฏูุน</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="invoicesTable">
                            <!-- ุงูุจูุงูุงุช ุณุชุถุงู ููุง -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช -->
            <div id="products" class="page">
                <div class="page-header">
                    <h2>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h2>
                    <div class="page-toolbar">
                        <input type="search" id="productsSearch" placeholder="ุงุจุญุซ ุฏุงุฎู ุงูููุชุฌุงุช..." />
                    </div>
                    <button id="addProductBtn" class="add-btn">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ููุชุฌ
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงุณู ุงูููุชุฌ</th>
                                <th>ุงูุชุตููู</th>
                                <th>ุงูุจุงุฑููุฏ</th>
                                <th>ุงูููุฑุฏ</th>
                                <th>ุงูุณุนุฑ (USD)</th>
                                <th>ุงูุชูููุฉ (USD)</th>
                                <th>ุงูุณุนุฑ (LBP)</th>
                                <th>ุงููุฎุฒูู</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="productsTable">
                            <!-- ุงูุจูุงูุงุช ุณุชุถุงู ููุง -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination Controls -->
                <div id="productsPagination" class="pagination-container" style="display: flex; justify-content: space-between; align-items: center; margin: 20px 15px 15px 15px; padding: 12px 15px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e5e7eb;">
                    <div class="pagination-left" style="display: flex; align-items: center; gap: 8px;">
                        <label id="productsPageSizeLabel" style="font-size: 13px; color: #6b7280; font-weight: 500;" data-i18n="pagination-items-per-page">ุนุฏุฏ ุงูุนูุงุตุฑ ููู ุตูุญุฉ:</label>
                        <select id="productsPageSize" style="padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 12px; background: white; cursor: pointer;">
                            <option value="10">10</option>
                            <option value="25" selected>25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="all" data-i18n="pagination-all">ุงููู</option>
                        </select>
                    </div>
                    
                    <div class="pagination-center" style="display: flex; align-items: center; gap: 6px;">
                        <button id="productsFirstPage" class="pagination-btn" style="padding: 6px 10px; border: 1px solid #d1d5db; background: white; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.2s;" data-i18n-title="pagination-first" title="ุงูุตูุญุฉ ุงูุฃููู">
                            <i class="fas fa-angle-double-right"></i>
                        </button>
                        <button id="productsPrevPage" class="pagination-btn" style="padding: 6px 10px; border: 1px solid #d1d5db; background: white; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.2s;" data-i18n-title="pagination-previous" title="ุงูุณุงุจู">
                            <i class="fas fa-angle-right"></i>
                        </button>
                        <span id="productsCurrentPage" style="padding: 6px 12px; background: #3b82f6; color: white; border-radius: 6px; font-size: 13px; font-weight: 600; min-width: 30px; text-align: center;">1</span>
                        <button id="productsNextPage" class="pagination-btn" style="padding: 6px 10px; border: 1px solid #d1d5db; background: white; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.2s;" data-i18n-title="pagination-next" title="ุงูุชุงูู">
                            <i class="fas fa-angle-left"></i>
                        </button>
                        <button id="productsLastPage" class="pagination-btn" style="padding: 6px 10px; border: 1px solid #d1d5db; background: white; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.2s;" data-i18n-title="pagination-last" title="ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ">
                            <i class="fas fa-angle-double-left"></i>
                        </button>
                    </div>
                    
                    <div class="pagination-right" style="font-size: 13px; color: #6b7280; font-weight: 500;">
                        <span id="productsPageInfo">ุนุฑุถ 1-25 ูู 0</span>
                    </div>
                </div>
            </div>

            <!-- ุงููุจูุนุงุช -->
            <div id="sales" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-receipt"></i> ุฅุฏุงุฑุฉ ุงููุจูุนุงุช</h2>
                    <div class="page-toolbar">
                        <input type="search" id="salesSearch" placeholder="ุงุจุญุซ ุฏุงุฎู ุงููุจูุนุงุช..." />
                    </div>
                    <div class="date-filter">
                        <input type="date" id="dateFrom">
                        <select id="statusFilter">
                            <option value="all">ุฌููุน ุงููุจูุนุงุช</option>
                            <option value="completed">ููุชููุฉ ููุท</option>
                            <option value="returned">ูุฑุฌุนุฉ ููุท</option>
                            <option value="partial">ูุฑุฌุนุฉ ุฌุฒุฆูุงู</option>
                        </select>
                        <button id="filterSales">ุชุตููุฉ</button>
                        <button id="resetFilter">ุฅุนุงุฏุฉ ุชุนููู</button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุฑูู ุงููุงุชูุฑุฉ</th>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงูุนููู</th>
                                <th>ุงููุจูุบ</th>
                                <th>ุทุฑููุฉ ุงูุฏูุน</th>
                                <th>ุงูุฎุตููุงุช</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="salesTable">
                            <!-- ุงูุจูุงูุงุช ุณุชุถุงู ููุง -->
                        </tbody>
                    </table>
                </div>
                <div id="salesPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:12px 0 24px 0;">
                    <span id="salesCountInfo" style="font-size:12px;color:#6b7280"></span>
                </div>
            </div>

            <!-- ุงูุนููุงุก -->
            <div id="customers" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-users"></i> ุฅุฏุงุฑุฉ ุงูุนููุงุก</h2>
                    <div class="page-toolbar">
                        <input type="search" id="customersSearch" placeholder="ุงุจุญุซ ุฏุงุฎู ุงูุนููุงุก..." />
                    </div>
                    <button id="addCustomerBtn" class="add-btn">
                        <i class="fas fa-user-plus"></i>
                        ุฅุถุงูุฉ ุนููู
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุงุณู</th>
                                <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                <th>ุงููุงุชู</th>
                                <th>ุงูุนููุงู</th>
                                <th>ุฅุฌูุงูู ุงููุดุชุฑูุงุช</th>
                                <th>ุงูุฏูู ุงูุญุงูู</th>
                                <th>ุงูุญุฏ ุงูุงุฆุชูุงูู</th>
                                <th>ุชุงุฑูุฎ ุงูุงูุถูุงู</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="customersTable">
                            <!-- ุงูุจูุงูุงุช ุณุชุถุงู ููุง -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ุงูููุฑุฏูู -->
            <div id="suppliers" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-truck"></i> ุฅุฏุงุฑุฉ ุงูููุฑุฏูู</h2>
                    <div class="page-toolbar">
                        <input type="search" id="suppliersSearch" placeholder="ุงุจุญุซ ุฏุงุฎู ุงูููุฑุฏูู..." />
                        <button id="openSupplierPaymentBtn" class="report-btn"><i class="fas fa-money-bill-wave"></i> ุฏูุน ูููุฑูุฏ</button>
                    </div>
                    <button id="addSupplierBtn" class="add-btn">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ููุฑุฏ
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงุณู ุงูููุฑุฏ</th>
                                <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                <th>ุงููุงุชู</th>
                                <th>ุงูุนููุงู</th>
                                <th>ุงูุดุฎุต ุงููุณุคูู</th>
                                <th>ุงูุฑุตูุฏ ุงููุณุชุญู</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="suppliersTable">
                            <!-- ุงูุจูุงูุงุช ุณุชุถุงู ููุง -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ูุงูุฐุฉ ุณุฌู ุงูููุฑุฏ -->
            <div id="supplierHistoryModal" class="modal">
                <div class="modal-content" style="max-width: 900px;">
                    <div class="modal-header">
                        <h3><i class="fas fa-history"></i> <span data-i18n="supplier-record"></span></h3>
                        <button class="close-btn" onclick="hideModal('supplierHistoryModal')">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="report-toolbar" style="display:flex;gap:8px;flex-wrap:wrap;align-items:center;">
                            <input type="date" id="shFrom">
                            <input type="date" id="shTo">
                            <button class="filter-btn" id="shApply" data-i18n="apply"></button>
                            <button class="report-btn" id="shExport"><i class="fas fa-file-csv"></i> CSV</button>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th data-i18n="date"></th>
                                        <th data-i18n="type"></th>
                                        <th data-i18n="reference"></th>
                                        <th data-i18n="total"></th>
                                        <th data-i18n="paid-now"></th>
                                        <th data-i18n="remaining"></th>
                                        <th data-i18n="notes"></th>
                                    </tr>
                                </thead>
                                <tbody id="supplierHistoryTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงูุชูุงุฑูุฑ -->
            <div id="reports" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-chart-bar"></i> ุงูุชูุงุฑูุฑ</h2>
                    <div class="date-filter">
                        <select id="reportPreset">
                            <option value="today">ุงูููู</option>
                            <option value="yesterday">ุฃูุณ</option>
                            <option value="this_week">ูุฐุง ุงูุฃุณุจูุน</option>
                            <option value="last_7">ุขุฎุฑ 7 ุฃูุงู</option>
                            <option value="this_month">ูุฐุง ุงูุดูุฑ</option>
                            <option value="last_30">ุขุฎุฑ 30 ููู</option>
                            <option value="this_year">ูุฐู ุงูุณูุฉ</option>
                            <option value="custom">ูุฎุตุต</option>
                        </select>
                        <input type="date" id="reportFromDate">
                        <button id="applyReportFilter" class="filter-btn">ุชุทุจูู</button>
                        <button id="openSalesHistory" class="report-btn"><i class="fas fa-history"></i> ุณุฌู ุงููุจูุนุงุช</button>
                    </div>
                </div>
                
                <div class="reports-grid">
                    <div class="report-card">
                        <h3><i class="fas fa-dollar-sign"></i> ุชูุฑูุฑ ุงููุจูุนุงุช</h3>
                        <p>ุชูุฑูุฑ ุดุงูู ุนู ุงููุจูุนุงุช ูุงูุฅูุฑุงุฏุงุช</p>
                        <button class="report-btn" onclick="showSalesReport()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>
                    
                    <div class="report-card">
                        <h3><i class="fas fa-boxes"></i> ุชูุฑูุฑ ุงููุฎุฒูู</h3>
                        <p>ุญุงูุฉ ุงููุฎุฒูู ูุงูููุชุฌุงุช</p>
                        <button class="report-btn" onclick="showInventoryReport()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>
                    
                    <div class="report-card">
                        <h3><i class="fas fa-users"></i> ุชูุฑูุฑ ุงูุนููุงุก</h3>
                        <p>ุฅุญุตุงุฆูุงุช ุงูุนููุงุก ููุดุชุฑูุงุชูู</p>
                        <button class="report-btn" onclick="showCustomersReport()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>

                    <div class="report-card">
                        <h3><i class="fas fa-piggy-bank"></i> <span data-i18n="profit-reports">Profit Reports</span></h3>
                        <p data-i18n="profit-reports-desc">ููุฎุต ุงูุฃุฑุจุงุญ ุญุณุจ ุงููุชุฑุฉ ูุทุฑููุฉ ุงูุฏูุน</p>
                        <button class="report-btn" onclick="showProfitReports()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>

                    <div class="report-card">
                        <h3><i class="fas fa-warehouse"></i> <span data-i18n="inventory-capital">Inventory Capital</span></h3>
                        <p data-i18n="inventory-capital-desc">ูููุฉ ุฑุฃุณ ุงููุงู ูููุฎุฒูู ุงูุญุงูู</p>
                        <button class="report-btn" onclick="showInventoryCapital()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>

                    <div class="report-card">
                        <h3><i class="fas fa-receipt"></i> <span data-i18n="expenses-report">ุงููููุงุช</span></h3>
                        <p data-i18n="expenses-report-desc"></p>
                        <button class="report-btn" onclick="showExpensesReport()" data-i18n="view-report"></button>
                    </div>
                    
                    <!-- Financial report card hidden per request (keeps code intact) -->
                    <div class="report-card" id="report-financial-card" style="display:none;">
                        <h3><i class="fas fa-chart-line"></i> ุงูุชูุฑูุฑ ุงููุงูู</h3>
                        <p>ุงูุฃุฑุจุงุญ ูุงูุฎุณุงุฆุฑ ูุงูุชุฏูู ุงูููุฏู</p>
                        <button class="report-btn" onclick="showFinancialReport()">ุนุฑุถ ุงูุชูุฑูุฑ</button>
                    </div>
                </div>
            </div>

            <!-- ุงูุฅุนุฏุงุฏุงุช -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-cogs"></i> ุงูุฅุนุฏุงุฏุงุช</h2>
                </div>
                
                <div class="settings-container">
                    <div class="settings-section">
                        <h3><i class="fas fa-store"></i> ูุนูููุงุช ุงููุชุฌุฑ</h3>
                        <div class="form-group">
                            <label data-i18n="store-name">ุงุณู ุงููุชุฌุฑ</label>
                            <input type="text" id="storeName" value="ูุชุฌุฑู ุงูุฅููุชุฑููู">
                        </div>
                        <div class="form-group">
                            <label data-i18n="store-address">ุนููุงู ุงููุชุฌุฑ</label>
                            <input type="text" id="storeAddress" value="ุจูุฑูุชุ ูุจูุงู">
                        </div>
                        <div class="form-group">
                            <label data-i18n="store-phone">ูุงุชู ุงููุชุฌุฑ</label>
                            <input type="text" id="storePhone" value="01-234567">
                        </div>
                        <div class="form-group">
                            <label data-i18n="support-phone"></label>
                            <input type="text" id="supportPhone" value="+96171783701" readonly style="background-color: #f8f9fa; color: #6c757d;">
                            <small style="color: #6c757d; font-size: 12px;" data-i18n="support-phone-desc"></small>
                        </div>
                        <!-- License days left display -->
                        <div id="licenseDaysWrap" style="margin-top:8px;">
                            <div id="licenseDaysLeft" class="license-days inactive">ุงูุฃูุงู ุงููุชุจููุฉ ูุงูุชูุงุก ุงูุงุดุชุฑุงู: -- ููู</div>
                        </div>
        <!-- Reset License Button -->
        <button id="resetLicenseBtn" class="reset-license-btn" onclick="resetLicenseAndLogout()" style="margin-top: 10px; background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: bold; width: 100%; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 8px;">
            <i class="fas fa-redo-alt"></i>
            <span data-i18n="reset-license">ุฅุนุงุฏุฉ ุชุนููู ุงูุชุฑุฎูุต</span>
        </button>
                        <button id="saveStoreInfo" class="save-btn">
                            <i class="fas fa-save"></i>
                            <span data-i18n="save-store-info">ุญูุธ ูุนูููุงุช ุงููุชุฌุฑ</span>
                        </button>
                        <button id="renewLicenseBtn" type="button" class="report-btn" style="margin-top:8px;">
                            <i class="fas fa-file-import"></i>
                            <span data-i18n="renew-license">ุงุณุชูุฑุงุฏ/ุชุฌุฏูุฏ ููู ุงูุชูุนูู</span>
                        </button>
                    </div>
                    
                    <div class="settings-section">
                        <h3><i class="fas fa-dollar-sign"></i> ุฅุนุฏุงุฏุงุช ุงูุนููุฉ</h3>
                        <div class="form-group">
                            <label>ุงูุนููุฉ ุงูุฃุณุงุณูุฉ</label>
                            <select id="primaryCurrency">
                                <option value="USD">ุฏููุงุฑ ุฃูุฑููู</option>
                                <option value="LBP">ููุฑุฉ ูุจูุงููุฉ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ุณุนุฑ ุตุฑู ุงูููุฑุฉ ุงููุจูุงููุฉ</label>
                            <input type="number" id="exchangeRateInput" value="89500">
                        </div>
                        <button id="updateExchangeRate" class="save-btn">
                            <i class="fas fa-save"></i>
                            ุญูุธ ุณุนุฑ ุงูุตุฑู
                        </button>
                        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;">
                            <button id="openCashMove" class="report-btn"><i class="fas fa-exchange-alt"></i> ุญุฑูุฉ ุงูุตูุฏูู</button>
                        </div>
                    </div>
                    
                    
                    <div class="settings-section">
                        <h3><i class="fas fa-database"></i> ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</h3>
                        <div class="backup-controls">
                            <button id="exportDataBtn" class="save-btn">
                                <i class="fas fa-download"></i>
                                ุชุตุฏูุฑ ุงูุจูุงูุงุช
                            </button>
                            <div class="import-section">
                                <label for="importFile" class="save-btn">
                                    <i class="fas fa-upload"></i>
                                    ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
                                </label>
                                <input type="file" id="importFile" accept=".json" style="display: none;">
                            </div>
                            <button id="clearDataBtn" class="clear-btn">
                                <i class="fas fa-trash"></i>
                                ูุณุญ ุฌููุน ุงูุจูุงูุงุช
                            </button>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="autoBackupCheckbox" checked>
                                ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="lowStockAlertCheckbox" checked>
                                ุชูุนูู ุชุญุฐูุฑุงุช ุงููุฎุฒูู ุงูููุฎูุถ
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="showTimeForAllSalesCheckbox">
                                <span data-i18n="show-time-all-sales">ุฅุธูุงุฑ ุงูููุช ูุฌููุน ุงููุจูุนุงุช (ูููุณ ููุท ุงูููุฏูุฉ)</span>
                            </label>
                            <small data-i18n="show-time-all-sales-desc">ุนูุฏ ุงูุชูุนููุ ุณูุธูุฑ ุงูุชุงุฑูุฎ ูุงูููุช ูุฌููุน ุงููุนุงููุงุช ูู ุฌุฏูู ุงููุจูุนุงุช ูุงูููุงุชูุฑ</small>
                        </div>
                        
                        <div class="form-group" id="stockThresholdGroup">
                            <label>ุญุฏ ุชุญุฐูุฑ ุงููุฎุฒูู ุงูููุฎูุถ:</label>
                            <input type="number" id="lowStockThreshold" min="1" value="10">
                            <small>ุณูุธูุฑ ุชุญุฐูุฑ ุนูุฏูุง ุชุตู ุงููููุฉ ููุฐุง ุงูุญุฏ ุฃู ุฃูู</small>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>ุฅุฏุงุฑุฉ ุงูุตูุฏูู</h3>
                        <div class="cash-drawer-management">
                            <div class="current-balance">
                                <h4>ุงูุฑุตูุฏ ุงูุญุงูู:</h4>
                                <div class="balance-display">
                                    <span class="balance-usd" id="currentUSD">$0.00</span>
                                    <span class="balance-lbp" id="currentLBP">0 ู.ู</span>
                                </div>
                            </div>
                            
                            <div class="edit-balance">
                                <h4>ุชุนุฏูู ุงูุฑุตูุฏ:</h4>
                                <div class="balance-inputs">
                                    <div class="form-group">
                                        <label>ุงูุฏููุงุฑ ุงูุฃูุฑููู ($):</label>
                                        <input type="number" id="editCashUSD" step="0.01" placeholder="0.00">
                                    </div>
                                    <div class="form-group">
                                        <label>ุงูููุฑุฉ ุงููุจูุงููุฉ (ู.ู):</label>
                                        <input type="number" id="editCashLBP" step="1" placeholder="0">
                                    </div>
                                </div>
                                <button id="updateCashDrawer" class="update-cash-btn">
                                    <i class="fas fa-edit"></i>
                                    ุชุญุฏูุซ ุงูุตูุฏูู
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงููุดุชุฑูุงุช / ููุงุชูุฑ ุงูููุฑุฏูู -->
            <div id="purchases" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-file-invoice-dollar"></i> ูุงุชูุฑุฉ ุดุฑุงุก</h2>
                    <div class="page-toolbar">
                        <button id="newPurchaseBtn" class="add-btn"><i class="fas fa-plus"></i> ูุงุชูุฑุฉ ุฌุฏูุฏุฉ</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงูููุฑูุฏ</th>
                                <th>ุงูุนููุฉ</th>
                                <th>ุงูุฅุฌูุงูู</th>
                                <th>ุงููุฏููุน</th>
                                <th>ุงููุชุจูู</th>
                                <th>ุงูุงุณุชุญูุงู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="purchasesTable"></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    <div id="overlay" class="overlay"></div>
    
    <!-- Activation Modal -->
    <div id="activationModal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:420px;">
            <div class="modal-header">
                <h3><i class="fas fa-key"></i> Enter Activation Code</h3>
                <button class="close-btn" id="closeActivationModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="activationPasswordInput">Activation Code</label>
                    <input type="password" id="activationPasswordInput" autocomplete="new-password" placeholder="" data-i18n-placeholder="activation-code-placeholder" style="width:100%;padding:8px;margin-top:6px;">
                </div>
                <div id="activationModalMsg" style="color:#b91c1c;display:none;margin-top:8px;font-weight:600;"></div>
            </div>
            <div class="modal-actions" style="display:flex;gap:8px;justify-content:flex-end;padding:12px;">
                <button type="button" class="cancel-btn" id="activationCancelBtn">Cancel</button>
                <button type="button" class="save-btn" id="activationApplyBtn">OK</button>
            </div>
        </div>
    </div>
    <!-- Price warning Modal (confirm if price < cost) -->
    <div id="priceWarningModal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:420px;">
            <div class="modal-header">
                <h3><i class="fas fa-exclamation-triangle"></i> ุชูุจูู ุณุนุฑ ุฃูู ูู ุงููููุฉ</h3>
                <button class="close-btn" id="closePriceWarningModal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="priceWarningText" style="font-weight:600;color:#b91c1c;"></p>
            </div>
            <div class="modal-actions" style="display:flex;gap:8px;justify-content:flex-end;padding:12px;">
                <button type="button" class="cancel-btn" id="priceWarningNo">ูุงุ ุชุฑุงุฌุน</button>
                <button type="button" class="save-btn" id="priceWarningYes">ูุนูุ ูุชุงุจุนุฉ</button>
            </div>
        </div>
    </div>
    
    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ููุชุฌ -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="addProductForm">
                <div class="form-group">
                    <label data-i18n="product-name">ุงุณู ุงูููุชุฌ</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label data-i18n="category">ุงูุชุตููู</label>
                    <input type="text" id="productCategory" required>
                </div>
                <div class="form-group">
                    <label>ุงูุชูููุฉ (USD)</label>
                    <input type="number" id="productCostUSD" step="0.01" placeholder="ูุซุงู: 0.80" required>
                </div>
                <div class="price-group">
                    <h4>ุงูุฃุณุนุงุฑ (ุจุงูุฏููุงุฑ ููุท)</h4>
                    <div class="price-types">
                        <div class="price-type-group">
                            <label>๐ช ุณุนุฑ ุงูููุฑู</label>
                            <div class="single-price-input">
                                <input type="number" id="productRetailUSD" step="0.01" placeholder="ูุซุงู: 1.50" required>
                                <span class="currency-label">ุฏููุงุฑ</span>
                            </div>
                            <div class="auto-calc-display">
                                <small>ุงูุณุนุฑ ุจุงูููุฑุฉ: <span id="retailLBPDisplay">--</span> ู.ู</small>
                            </div>
                        </div>
                        <div class="price-type-group">
                            <label>โญ ุณุนุฑ ุงูุฒุจูู ุงููููุฒ</label>
                            <div class="single-price-input">
                                <input type="number" id="productVipUSD" step="0.01" placeholder="ูุซุงู: 1.30" required>
                                <span class="currency-label">ุฏููุงุฑ</span>
                            </div>
                            <div class="auto-calc-display">
                                <small>ุงูุณุนุฑ ุจุงูููุฑุฉ: <span id="vipLBPDisplay">--</span> ู.ู</small>
                            </div>
                        </div>
                        <div class="price-type-group">
                            <label>๐ฆ ุณุนุฑ ุงูุฌููุฉ</label>
                            <div class="single-price-input">
                                <input type="number" id="productWholesaleUSD" step="0.01" placeholder="ูุซุงู: 1.20" required>
                                <span class="currency-label">ุฏููุงุฑ</span>
                            </div>
                            <div class="auto-calc-display">
                                <small>ุงูุณุนุฑ ุจุงูููุฑุฉ: <span id="wholesaleLBPDisplay">--</span> ู.ู</small>
                            </div>
                        </div>
                    </div>
                    <div class="exchange-rate-note">
                        <small><i class="fas fa-info-circle"></i> ุณุนุฑ ุงูุตุฑู ุงูุญุงูู: <span id="currentExchangeRate">89,500</span> ู.ู</small>
                    </div>
                </div>
                <div class="form-group">
                    <label data-i18n="quantity">ุงููููุฉ</label>
                    <input type="number" id="productQuantity" required>
                </div>
                <div class="form-group">
                    <label data-i18n="barcode">ุงูุจุงุฑููุฏ</label>
                    <div class="barcode-input-group">
                        <input type="text" id="productBarcode">
                        <button type="button" id="generateBarcodeBtn" class="generate-barcode-btn" onclick="generateBarcode()">
                            <i class="fas fa-barcode"></i>
                            ุชูููุฏ ุจุงุฑููุฏ
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>ุงูููุฑุฏ</label>
                    <select id="productSupplier">
                        <option value="">ุงุฎุชุฑ ุงูููุฑุฏ</option>
                    </select>
                </div>
                <div class="form-group" id="supplierCostGroup" style="display:none;gap:8px;align-items:center;justify-content:space-between;">
                    <div style="flex:1;">
                        <label>ุฅุฌูุงูู ุงููููุฉ</label>
                        <input type="text" id="productTotalCostDisplay" disabled>
                    </div>
                    <div style="flex:1;">
                        <label>Pay Now</label>
                        <input type="number" id="productPayNow" step="0.01" min="0" placeholder="0.00">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save">ุญูุธ</button>
                    <button type="button" class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุทุจุงุนุฉ ุงูุจุงุฑููุฏ -->
    <div id="printBarcodeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="print-barcode">ุทุจุงุนุฉ ุงูุจุงุฑููุฏ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="barcode-print-content">
                <div class="product-info">
                    <h4 id="barcodeProductName">ุงุณู ุงูููุชุฌ</h4>
                    <p id="barcodeProductCode">ุงูุจุงุฑููุฏ: <span id="barcodeNumber"></span></p>
                </div>
                
                <div class="print-settings">
                    <div class="form-group">
                        <label data-i18n="print-quantity">ูููุฉ ุงูุทุจุงุนุฉ:</label>
                        <input type="number" id="printQuantity" value="1" min="1" max="100">
                    </div>
                    <div class="form-group">
                        <label data-i18n="barcode-size">ุญุฌู ุงูุจุงุฑููุฏ:</label>
                        <select id="barcodeSize">
                            <option value="small" data-i18n="small">ุตุบูุฑ</option>
                            <option value="medium" selected data-i18n="medium">ูุชูุณุท</option>
                            <option value="large" data-i18n="large">ูุจูุฑ</option>
                        </select>
                    </div>
                </div>
                
                <div class="barcode-preview" id="barcodePreview">
                    <!-- ูุนุงููุฉ ุงูุจุงุฑููุฏ ุณุชุธูุฑ ููุง -->
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="save-btn" onclick="printBarcode()">
                        <i class="fas fa-print"></i> <span data-i18n="print">ุทุจุงุนุฉ</span>
                    </button>
                    <button type="button" class="cancel-btn" onclick="closePrintBarcode()"><span data-i18n="cancel">ุฅูุบุงุก</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profit Reports Modal -->
    <div id="profitReportsModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3><i class="fas fa-piggy-bank"></i> <span data-i18n="profit-reports">Profit Reports</span></h3>
                <button class="close-btn" onclick="hideModal('profitReportsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="report-toolbar" id="profitToolbar">
                    <div class="filters">
                    <select id="profitPreset">
                        <option value="today" data-i18n="today">ุงูููู</option>
                        <option value="this_week" data-i18n="this-week">ูุฐุง ุงูุฃุณุจูุน</option>
                        <option value="last_week" data-i18n="last-week">ุงูุฃุณุจูุน ุงููุงุถู</option>
                        <option value="this_month" data-i18n="this-month">ูุฐุง ุงูุดูุฑ</option>
                        <option value="last_month" data-i18n="last-month">ุงูุดูุฑ ุงููุงุถู</option>
                        <option value="custom" data-i18n="custom">ูุฎุตุต</option>
                    </select>
                    <input type="date" id="profitFrom" style="display:none;">
                    <input type="date" id="profitTo" style="display:none;">
                    <select id="profitPaymentFilter">
                        <option value="all" data-i18n="all-methods">ูู ุงูุทุฑู</option>
                        <option value="cash" data-i18n="cash">ููุฏู</option>
                        <option value="partial" data-i18n="partial-payment">ุฏูุน ุฌุฒุฆู (ุฏูู)</option>
                        <option value="credit" data-i18n="credit">ุจูุน ุจุงูุฏูู</option>
                    </select>
                    <select id="profitPageSize">
                        <option>15</option>
                        <option>25</option>
                        <option>50</option>
                        <option>100</option>
                    </select>
                    </div>
                    <div class="actions">
                        <button class="filter-btn" onclick="renderProfitReports()" data-i18n="apply">ุชุทุจูู</button>
                        <button class="report-btn" onclick="exportProfitCSV()"><i class="fas fa-file-csv"></i> CSV</button>
                        <button class="report-btn" onclick="exportProfitPDF()"><i class="fas fa-file-pdf"></i> PDF</button>
                    </div>
                </div>
                <div id="profitSummary" class="profit-summary-grid"></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th data-i18n="date">ุงูุชุงุฑูุฎ</th>
                                <th data-i18n="number-of-invoices">ุนุฏุฏ ุงูููุงุชูุฑ</th>
                                <th data-i18n="sales">ุงููุจูุนุงุช</th>
                                <th data-i18n="cost-cogs">ุงููููุฉ (COGS)</th>
                                <th data-i18n="profit">ุงูุฑุจุญ</th>
                            </tr>
                        </thead>
                        <tbody id="profitTable"></tbody>
                    </table>
                </div>
                <div id="profitPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:12px 0 0 0;">
                    <span id="profitCountInfo" style="font-size:12px;color:#6b7280"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Inventory Capital Modal -->
    <div id="inventoryCapitalModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3><i class="fas fa-warehouse"></i> <span data-i18n="inventory-capital">Inventory Capital</span></h3>
                <button class="close-btn" onclick="hideModal('inventoryCapitalModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px;">
                    <select id="capitalPageSize">
                        <option>15</option>
                        <option>25</option>
                        <option>50</option>
                        <option>100</option>
                    </select>
                    <button class="report-btn" onclick="renderInventoryCapital()" data-i18n="update">ุชุญุฏูุซ</button>
                    <button class="report-btn" onclick="exportCapitalCSV()"><i class="fas fa-file-csv"></i> CSV</button>
                </div>
                <div id="capitalSummary" style="display:flex;gap:12px;flex-wrap:wrap;margin:10px 0;"></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th data-i18n="product">ุงูููุชุฌ</th>
                                <th data-i18n="quantity">ุงููููุฉ</th>
                                <th data-i18n="unit-cost">ูููุฉ ุงููุญุฏุฉ</th>
                                <th data-i18n="inventory-value">ูููุฉ ุงููุฎุฒูู</th>
                            </tr>
                        </thead>
                        <tbody id="capitalTable"></tbody>
                    </table>
                </div>
                <div id="capitalPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:12px 0 0 0;">
                    <span id="capitalCountInfo" style="font-size:12px;color:#6b7280"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Expenses Report Modal -->
    <div id="expensesReportModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3><i class="fas fa-receipt"></i> <span data-i18n="expenses-report-title"></span></h3>
                <button class="close-btn" onclick="hideModal('expensesReportModal')">&times;</button>
            </div>
            <div class="modal-body" style="padding: 20px;">
                <div class="report-toolbar" style="display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:20px;padding: 15px 10px;background:#f8f9fa;border-radius:8px;">
                    <input type="date" id="expensesFromDate" style="padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;">
                    <select id="expensesCategoryFilter" style="padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px;">
                        <option value="all" data-i18n="expenses-category-all"></option>
                    </select>
                    <select id="expensesUserFilter" style="padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px;">
                        <option value="all" data-i18n="expenses-user-all"></option>
                    </select>
                    <input type="search" id="expensesSearch" placeholder="" data-i18n-placeholder="expenses-search-placeholder" style="padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:200px;">
                    <button id="expensesApplyFilter" class="filter-btn" data-i18n="cashbox-apply-filter" style="padding:8px 16px;background:#28a745;color:white;border:none;border-radius:6px;font-size:14px;font-weight:500;"></button>
                    <button id="expensesResetFilter" class="filter-btn" data-i18n="cashbox-reset-filter" style="padding:8px 16px;background:#6c757d;color:white;border:none;border-radius:6px;font-size:14px;font-weight:500;"></button>
                    <button id="expensesExportCsv" class="filter-btn" data-i18n="expenses-export-csv" style="padding:8px 16px;background:#007bff;color:white;border:none;border-radius:6px;font-size:14px;font-weight:500;"></button>
                </div>
                
                <div class="expenses-summary" style="background:#f8f9fa;padding:16px;border-radius:8px;margin:0 10px 20px 10px;">
                    <div style="font-weight:600;color:#333;text-align:center;">
                        <span data-i18n="expenses-total"></span>: 
                        <span id="expensesTotalAmount" style="color:#dc3545;font-size:18px;">$0.00</span>
                    </div>
                </div>

                <div class="table-container" style="margin: 0 10px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <table class="data-table" style="font-size: 12px;">
                        <thead>
                            <tr>
                                <th data-i18n="expenses-date-time" style="width: 130px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-category" style="width: 120px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-description" style="width: 250px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-original-amount" style="width: 100px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-exchange-rate" style="width: 80px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-amount-usd" style="width: 90px; padding: 8px 6px;"></th>
                                <th data-i18n="expenses-user" style="width: 80px; padding: 8px 6px;"></th>
                            </tr>
                        </thead>
                        <tbody id="expensesTable">
                        </tbody>
                    </table>
                </div>
                
                <div id="expensesPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:20px 10px 30px 10px;padding: 15px 0;">
                    <button id="loadMoreExpensesBtn" class="action-btn" style="padding:10px 20px;background:#3b82f6;color:#fff;border-radius:8px;font-weight:500;" data-i18n="cashbox-load-more">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <span id="expensesCountInfo" style="font-size:13px;color:#6b7280;font-weight:500;"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชุนุฏูู ููุชุฌ -->
    <div id="editProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุชุนุฏูู ุงูููุชุฌ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="editProductForm">
                <div class="form-group">
                    <label>ุงุณู ุงูููุชุฌ</label>
                    <input type="text" id="editProductName" required>
                </div>
                <div class="form-group">
                    <label>ุงูุชุตููู</label>
                    <input type="text" id="editProductCategory" required>
                </div>
                <div class="form-group">
                    <label>ุงูุณุนุฑ ุจุงูุฏููุงุฑ</label>
                    <input type="number" id="editProductPriceUSD" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>ุงูุณุนุฑ ุจุงูููุฑุฉ</label>
                    <input type="number" id="editProductPriceLBP" required>
                </div>
                <div class="form-group">
                    <label>ุงูุชูููุฉ (USD)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="number" id="editProductCostUSD" step="0.01" required style="flex: 1;">
                        <button type="button" id="addQuantityBtn" class="btn btn-sm" style="background: #28a745; color: white; border: none; padding: 8px 12px; border-radius: 4px; font-size: 12px; white-space: nowrap;" data-i18n="add-new-quantity">ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>ุงููููุฉ</label>
                    <input type="number" id="editProductQuantity" required>
                </div>
                <div class="form-group">
                    <label>ุงูุจุงุฑููุฏ</label>
                    <input type="text" id="editProductBarcode">
                </div>
                <div class="form-group">
                    <label>ุงูููุฑุฏ</label>
                    <select id="editProductSupplier">
                        <option value="">ุงุฎุชุฑ ุงูููุฑุฏ</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save-changes">ุญูุธ ุงูุชุนุฏููุงุช</button>
                    <button type="button" class="cancel-btn">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ -->
    <div id="addQuantityModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="add-new-quantity">ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="addQuantityForm">
                <div class="form-group">
                    <label data-i18n="new-quantity">ุงููููุฉ ุงูุฌุฏูุฏุฉ</label>
                    <input type="number" id="newQuantity" step="1" min="1" required>
                </div>
                <div class="form-group">
                    <label data-i18n="new-cost-per-unit">ุงููููุฉ ุงูุฌุฏูุฏุฉ ูููุญุฏุฉ (USD)</label>
                    <input type="number" id="newCostPerUnit" step="0.01" min="0" required>
                </div>
                <div class="form-group" id="quantityCalculationInfo" style="background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #007bff;">
                    <h4 style="margin: 0 0 10px 0; color: #007bff;" data-i18n="new-cost-calculation">ุญุณุงุจ ุงููููุฉ ุงูุฌุฏูุฏุฉ:</h4>
                    <div id="costCalculationDetails"></div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save">ุญูุธ</button>
                    <button type="button" class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ุนููู -->
    <div id="addCustomerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="addCustomerForm">
                <div class="form-group">
                    <label data-i18n="customer-name">ุงุณู ุงูุนููู</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label data-i18n="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="customerEmail">
                </div>
                <div class="form-group">
                    <label data-i18n="phone-number">ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="customerPhone" required>
                </div>
                <div class="form-group">
                    <label data-i18n="address">ุงูุนููุงู</label>
                    <input type="text" id="customerAddress">
                </div>
                <div class="form-group">
                    <label>ุงูุญุฏ ุงูุงุฆุชูุงูู (ุฏููุงุฑ)</label>
                    <input type="number" id="customerCreditLimit" step="0.01" value="500">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save">ุญูุธ</button>
                    <button type="button" class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชุนุฏูู ุนููู -->
    <div id="editCustomerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุชุนุฏูู ุงูุนููู</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="editCustomerForm">
                <div class="form-group">
                    <label>ุงุณู ุงูุนููู</label>
                    <input type="text" id="editCustomerName" required>
                </div>
                <div class="form-group">
                    <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="editCustomerEmail">
                </div>
                <div class="form-group">
                    <label>ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="editCustomerPhone" required>
                </div>
                <div class="form-group">
                    <label>ุงูุนููุงู</label>
                    <input type="text" id="editCustomerAddress">
                </div>
                <div class="form-group">
                    <label>ุงูุญุฏ ุงูุงุฆุชูุงูู (ุฏููุงุฑ)</label>
                    <input type="number" id="editCustomerCreditLimit" step="0.01">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save-changes">ุญูุธ ุงูุชุนุฏููุงุช</button>
                    <button type="button" class="cancel-btn">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ููุฑุฏ -->
    <div id="addSupplierModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="add-new-supplier"></h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="addSupplierForm">
                <div class="form-group">
                    <label data-i18n="supplier-name"></label>
                    <input type="text" id="supplierName" required>
                </div>
                <div class="form-group">
                    <label data-i18n="supplier-email"></label>
                    <input type="email" id="supplierEmail">
                </div>
                <div class="form-group">
                    <label data-i18n="supplier-phone"></label>
                    <input type="tel" id="supplierPhone" required>
                </div>
                <div class="form-group">
                    <label data-i18n="supplier-address"></label>
                    <input type="text" id="supplierAddress">
                </div>
                <div class="form-group">
                    <label data-i18n="supplier-contact-person"></label>
                    <input type="text" id="supplierContact">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save"></button>
                    <button type="button" class="cancel-btn" data-i18n="cancel"></button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชุนุฏูู ููุฑุฏ -->
    <div id="editSupplierModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="edit-supplier">ุชุนุฏูู ุงูููุฑุฏ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="editSupplierForm">
                <div class="form-group">
                    <label data-i18n="supplier-name">ุงุณู ุงูููุฑุฏ</label>
                    <input type="text" id="editSupplierName" required>
                </div>
                <div class="form-group">
                    <label data-i18n="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="editSupplierEmail">
                </div>
                <div class="form-group">
                    <label data-i18n="phone-number">ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="editSupplierPhone" required>
                </div>
                <div class="form-group">
                    <label data-i18n="address">ุงูุนููุงู</label>
                    <input type="text" id="editSupplierAddress">
                </div>
                <div class="form-group">
                    <label data-i18n="contact-person">ุงูุดุฎุต ุงููุณุคูู</label>
                    <input type="text" id="editSupplierContact">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="save-btn" data-i18n="save-changes">ุญูุธ ุงูุชุนุฏููุงุช</button>
                    <button type="button" class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุนุฑุถ ุงููุงุชูุฑุฉ ููุทุจุงุนุฉ -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content invoice-content">
            <div class="modal-header">
                <h3 data-i18n="sales-invoice"></h3>
                <div class="print-actions">
                    <button id="printInvoiceBtn" class="save-btn">
                        <i class="fas fa-print"></i>
                        <span data-i18n="print"></span>
                    </button>
                    <button class="close-btn">&times;</button>
                </div>
            </div>
            <div id="invoiceContent" class="invoice-body">
                <!-- ูุญุชูู ุงููุงุชูุฑุฉ ุณูุชู ุฅูุดุงุคู ุฏููุงููููุงู -->
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุชูุงุฑูุฑ -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="reportTitle">ุชูุฑูุฑ ุงููุจูุนุงุช</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div id="reportContent" class="report-body">
                <!-- ูุญุชูู ุงูุชูุฑูุฑ ุณูุชู ุฅูุดุงุคู ุฏููุงููููุงู -->
            </div>
        </div>
    </div>
    
    <!-- ูุงูุฐุฉ ุฅูุดุงุก/ุชุนุฏูู ูุงุชูุฑุฉ ุดุฑุงุก -->
    <div id="purchaseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ูุงุชูุฑุฉ ุดุฑุงุก</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="report-body">
                <div class="form-group">
                    <label>ุงูููุฑูุฏ</label>
                    <select id="purchaseSupplier"></select>
                </div>
                <div class="form-group">
                    <label>ุชุงุฑูุฎ ุงููุงุชูุฑุฉ</label>
                    <input type="date" id="purchaseDate">
                </div>
                <div class="form-group">
                    <label>ุชุงุฑูุฎ ุงูุงุณุชุญูุงู</label>
                    <input type="date" id="purchaseDueDate">
                </div>
                <div class="form-group">
                    <label>ุงูุนููุฉ</label>
                    <select id="purchaseCurrency">
                        <option value="USD">USD</option>
                        <option value="LBP">LBP</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ุณุนุฑ ุตุฑู ุงูููุฑุฉ ููุช ุงูุฅูุดุงุก</label>
                    <input type="number" id="purchaseRate" step="0.01">
                </div>
                <div class="form-group">
                    <label>ุงูุจููุฏ</label>
                    <div id="purchaseItems"></div>
                    <button type="button" id="addPurchaseItem" class="save-btn"><i class="fas fa-plus"></i> ุฅุถุงูุฉ ุจูุฏ</button>
                </div>
                <div class="form-group">
                    <label>ุงูุฅุฌูุงูู</label>
                    <div id="purchaseTotals">$0.00</div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="savePurchaseBtn" class="save-btn" data-i18n="save">ุญูุธ</button>
                <button id="saveAndPayPurchaseBtn" class="save-btn" data-i18n="save_pay">ุญูุธ ูุงุฏูุน ุงูุขู</button>
                <button class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุฑุฌุงุน ุดุฑุงุก -->
    <div id="purchaseReturnModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุฑุฌุงุน ุดุฑุงุก</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="report-body">
                <div class="form-group">
                    <label>ุฑูู ูุงุชูุฑุฉ ุงูุดุฑุงุก</label>
                    <select id="prBill"></select>
                </div>
                <div class="form-group">
                    <label>ุงูุนูุตุฑ</label>
                    <select id="prItem"></select>
                </div>
                <div class="form-group">
                    <label>ุงููููุฉ ุงููุฑุฌูุนุฉ</label>
                    <input type="number" id="prQty" min="1" value="1">
                </div>
                <div class="form-group">
                    <label>ููุงุญุธุฉ</label>
                    <input type="text" id="prNote" placeholder="ุงุฎุชูุงุฑู">
                </div>
            </div>
            <div class="modal-actions">
                <button id="confirmPurchaseReturn" class="save-btn" data-i18n="confirm-return">ุชุฃููุฏ ุงูุฅุฑุฌุงุน</button>
                <button class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฏูุน ุฏูู ุนููู -->
    <div id="payDebtModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุชุณุฏูุฏ ุฏูู ุงูุนููู</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="report-body">
                <div class="form-group">
                    <label>ุงูุนููู</label>
                    <select id="payDebtCustomer"></select>
                </div>
                <div class="form-group">
                    <label>ุงูุฏูู ุงูุญุงูู</label>
                    <input type="text" id="payDebtCurrent" disabled>
                </div>
                <div class="form-group">
                    <label>ุงููุจูุบ ุงููุฏููุน</label>
                    <input type="number" step="0.01" id="payDebtAmount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>ุนููุฉ ุงูุฏูุน</label>
                    <select id="payDebtCurrency">
                        <option value="USD">ุฏููุงุฑ ($)</option>
                        <option value="LBP">ููุฑุฉ (ู.ู)</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button id="confirmPayDebt" class="save-btn"><i class="fas fa-check"></i> <span data-i18n="confirm-pay-debt">ุชุฃููุฏ ุงูุชุณุฏูุฏ</span></button>
                    <button class="cancel-btn" onclick="hideModal('payDebtModal')"><i class="fas fa-times"></i> <span data-i18n="cancel">ุฅูุบุงุก</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฏูุน ููุฑุฏ -->
    <div id="supplierPaymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฏูุน ูููุฑูุฏ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="report-body">
                <div class="form-group">
                    <label>ุงูููุฑูุฏ</label>
                    <div id="spSupplierCombo" style="position:relative;">
                        <input type="text" id="spSupplierSearch" placeholder="ุงุจุญุซ ุจุงุณู ุฃู ุจุฑูุฏ ุงูููุฑุฏ" autocomplete="off" style="width:100%;padding-right:10px;">
                        <div id="spSupplierList" style="position:absolute;left:0;right:0;max-height:220px;overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 8px 24px rgba(0,0,0,0.08);z-index:10;display:none;"></div>
                        <select id="spSupplier" style="display:none;"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label>ุงููุจูุบ</label>
                    <input type="number" step="0.01" id="spAmount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>ุงูุนููุฉ</label>
                    <select id="spCurrency">
                        <option value="USD">USD</option>
                        <option value="LBP">LBP</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ุทุฑููุฉ ุงูุฏูุน</label>
                    <select id="spMethod">
                        <option value="cash">ููุฏ</option>
                        <option value="card">ุจุทุงูุฉ</option>
                        <option value="transfer">ุชุญููู</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ููุงุญุธุฉ</label>
                    <input type="text" id="spNote" placeholder="ุงุฎุชูุงุฑู">
                </div>
                
            </div>
            <div class="modal-actions">
                <button id="confirmSupplierPayment" class="save-btn"><i class="fas fa-check"></i> <span data-i18n="confirm-payment">ุชุฃููุฏ ุงูุฏูุน</span></button>
                <button class="cancel-btn" data-i18n="cancel">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุญุฑูุฉ ุงูุตูุฏูู (ุฅุฎุฑุงุฌ/ุฅูุฏุงุน/ููู) -->
    <div id="cashMoveModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุญุฑูุฉ ุงูุตูุฏูู</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="report-body">
                <div class="form-group">
                    <label>ุงูููุน</label>
                    <select id="cashMoveType">
                        <option value="deposit">ุฅูุฏุงุน (ุงูุงุฏุฎุงู)</option>
                        <option value="expense">ุฅุฎุฑุงุฌ (ุงูุชุฎุฑูุญ)</option>
                        <option value="transfer">ููู (ุงูุชุญููู)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ุงููุจูุบ</label>
                    <input type="number" step="0.01" id="cashMoveAmount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>ุงูุนููุฉ</label>
                    <select id="cashMoveCurrency">
                        <option value="USD">ุฏููุงุฑ ($)</option>
                        <option value="LBP">ููุฑุฉ (ู.ู)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ูุตู</label>
                    <input type="text" id="cashMoveNote" placeholder="ูุซุงู: ุดุฑุงุก ูุณุชูุฒูุงุช/ููู ููุฎุฒูุฉ ...">
                </div>
                <div class="modal-actions">
                    <button id="confirmCashMove" class="save-btn"><i class="fas fa-check"></i> <span data-i18n="confirm">ุชุฃููุฏ</span></button>
                    <button class="cancel-btn" onclick="hideModal('cashMoveModal')"><i class="fas fa-times"></i> <span data-i18n="cancel">ุฅูุบุงุก</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงุณุชุฑุฌุงุน ุงููุจูุนุงุช -->
    <div id="returnSaleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-undo"></i> ุงุณุชุฑุฌุงุน ุงููุจูุนุฉ</h3>
                <button class="close-btn" onclick="hideModal('returnSaleModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="return-info">
                    <div class="sale-details">
                        <h4>ุชูุงุตูู ุงููุจูุนุฉ</h4>
                        <div class="detail-row">
                            <span>ุฑูู ุงููุงุชูุฑุฉ:</span>
                            <span id="returnInvoiceNumber">--</span>
                        </div>
                        <div class="detail-row">
                            <span>ุงูุนููู:</span>
                            <span id="returnCustomerName">--</span>
                        </div>
                        <div class="detail-row">
                            <span>ุงููุจูุบ ุงูุฅุฌูุงูู:</span>
                            <span id="returnTotalAmount">--</span>
                        </div>
                        <div class="detail-row">
                            <span>ุทุฑููุฉ ุงูุฏูุน:</span>
                            <span id="returnPaymentMethod">--</span>
                        </div>
                    </div>
                    
                    <div class="return-options">
                        <h4>ุฎูุงุฑุงุช ุงูุงุณุชุฑุฌุงุน</h4>
                        <div class="form-group">
                            <label>ููุน ุงูุงุณุชุฑุฌุงุน:</label>
                            <select id="returnType">
                                <option value="full">ุงุณุชุฑุฌุงุน ูุงูู</option>
                                <option value="partial">ุงุณุชุฑุฌุงุน ุฌุฒุฆู</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="partialAmountGroup" style="display: none;">
                            <label>ุงููุจูุบ ุงููุฑุงุฏ ุงุณุชุฑุฌุงุนู:</label>
                            <input type="number" id="partialReturnAmount" step="0.01" placeholder="ุฃุฏุฎู ุงููุจูุบ">
                        </div>
                        
                        <div class="form-group">
                            <label>ุณุจุจ ุงูุงุณุชุฑุฌุงุน:</label>
                            <select id="returnReason">
                                <option value="defective">ููุชุฌ ูุนูุจ</option>
                                <option value="wrong_item">ููุชุฌ ุฎุงุทุฆ</option>
                                <option value="customer_change">ุชุบููุฑ ุฑุฃู ุงูุนููู</option>
                                <option value="size_issue">ูุดููุฉ ูู ุงูุญุฌู</option>
                                <option value="other">ุฃุฎุฑู</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>ููุงุญุธุงุช ุฅุถุงููุฉ:</label>
                            <textarea id="returnNotes" placeholder="ุฃุถู ุฃู ููุงุญุธุงุช..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div class="return-summary">
                    <h4>ููุฎุต ุงูุงุณุชุฑุฌุงุน</h4>
                    <div class="summary-row">
                        <span>ุงููุจูุบ ุงููุณุชุฑุฌุน:</span>
                        <span id="refundAmount" class="amount-highlight">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>ุทุฑููุฉ ุงูุฅุฑุฌุงุน:</span>
                        <span id="refundMethod">ููุฏู</span>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="save-btn" onclick="processReturn()">
                    <i class="fas fa-check"></i>
                    <span data-i18n="confirm-return">ุชุฃููุฏ ุงูุงุณุชุฑุฌุงุน</span>
                </button>
                <button class="cancel-btn" onclick="hideModal('returnSaleModal')">
                    <i class="fas fa-times"></i>
                    <span data-i18n="cancel">ุฅูุบุงุก</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุชูุฑูุฑ ุงููุงูู -->
    <div id="financialReportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-chart-line"></i> ุงูุชูุฑูุฑ ุงููุงูู</h3>
                <button class="close-btn" onclick="hideModal('financialReportModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px;">
                    <select id="financialPreset">
                        <option value="today">ุงูููู</option>
                        <option value="this_week">ูุฐุง ุงูุฃุณุจูุน</option>
                        <option value="this_month">ูุฐุง ุงูุดูุฑ</option>
                        <option value="last_month">ุงูุดูุฑ ุงููุงุถู</option>
                        <option value="custom">ูุฎุตุต</option>
                    </select>
                    <input type="date" id="financialFrom" style="display:none;">
                    <input type="date" id="financialTo" style="display:none;">
                    <button class="report-btn" onclick="renderFinancialReport()" data-i18n="update">ุชุญุฏูุซ</button>
                    <button class="report-btn" onclick="exportFinancialCSV()"><i class="fas fa-file-csv"></i> CSV</button>
                </div>
                <div id="financialSummary" style="display:flex;gap:12px;flex-wrap:wrap;margin:10px 0;"></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th data-i18n="invoice-number">ุฑูู ุงููุงุชูุฑุฉ</th>
                                <th data-i18n="date">ุงูุชุงุฑูุฎ</th>
                                <th data-i18n="customer">ุงูุนููู</th>
                                <th data-i18n="amount">ุงููุจูุบ</th>
                                <th data-i18n="payment-method">ุทุฑููุฉ ุงูุฏูุน</th>
                                <th data-i18n="status">ุงูุญุงูุฉ</th>
                            </tr>
                        </thead>
                        <tbody id="financialTable"></tbody>
                    </table>
                </div>
                <div id="financialPager" style="display:flex;align-items:center;gap:12px;justify-content:center;margin:12px 0 0 0;">
                    <span id="financialCountInfo" style="font-size:12px;color:#6b7280"></span>
                </div>
                
                <!-- ุงูุฑุณู ุงูุจูุงูู ุงูุดูุฑู -->
                <div style="margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 8px;">
                    <h4 style="margin: 0 0 15px 0; color: #1f2937; font-size: 16px; font-weight: 600;" data-i18n="monthly-sales">
                        <i class="fas fa-chart-line"></i> ุงููุจูุนุงุช ุงูุดูุฑูุฉ
                    </h4>
                    <div style="position: relative; height: 300px;">
                        <canvas id="monthlySalesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>


    

    <!-- ููุชุจุฉ ุฅูุดุงุก ุงูุจุงุฑููุฏุงุช ุงูุจุตุฑูุฉ -->
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <!-- ููุชุจุฉ ุงูุฑุณูู ุงูุจูุงููุฉ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>

